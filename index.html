<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>TERRA SERVICES | From Concept to Creation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="From concept to creation: Terra Services designs, engineers, and fabricates innovative solutions that bring your ideas to life."
  />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- HEADER -->
  <header class="site-header">
    <div class="container header-inner">
      <div class="logo">
        <img src="terra-services-logo.png" alt="Terra Services logo" class="logo-image" />
      </div>
      <nav class="main-nav">
        <a href="#hero">Home</a>
        <a href="#services">Services</a>
        <a href="#about">About</a>
        <a href="gallery.html">Gallery</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section id="hero" class="hero">
    <div class="container hero-inner">
      <div class="hero-text">
        <h1>From Concept to Creation</h1>
        <p class="hero-tagline">
          Terra Services designs, engineers, and fabricates innovative solutions that bring your ideas to life.
        </p>
        <p class="hero-sub">
          Broad fabrication, practical engineering, and real-world problem solving — from one-off prototypes to durable fixes.
        </p>
        <div class="hero-actions">
          <a href="#contact" class="btn btn-primary">Request a Project</a>
          <a href="#services" class="btn btn-outline">Explore Services</a>
        </div>
      </div>

      <!-- HERO GALLERY (4 WINDOWS THAT CYCLE) -->
      <div class="hero-media">
        <div class="hero-gallery">
          <img id="heroImg0" src="images/gallery/weld-01.jpg" alt="Custom welded bracket" loading="lazy" decoding="async" />
          <img id="heroImg1" src="images/gallery/fixture-01.jpg" alt="Fabrication fixture" loading="lazy" decoding="async" />
          <img id="heroImg2" src="images/gallery/prototype-01.jpg" alt="Prototype component" loading="lazy" decoding="async" />
          <img id="heroImg3" src="images/gallery/shop-01.jpg" alt="Work in progress in the shop" loading="lazy" decoding="async" />
        </div>
      </div>
    </div>
  </section>

  <!-- SERVICES -->
  <section id="services" class="section services">
    <div class="container">
      <h2>What Terra Services Does</h2>
      <p class="section-intro">
        We help you move from “idea on a napkin” to “object in your hands” with a mix of fabrication, engineering, and iteration.
      </p>

      <div class="card-grid">
        <article class="card">
          <h3>Fabrication & Metalwork</h3>
          <p>
            Cutting, welding, and building structures, brackets, frames, fixtures, and custom hardware for real-world use.
          </p>
        </article>
        <article class="card">
          <h3>Engineering & Design</h3>
          <p>
            Turning problems into designs: refining concepts, planning builds, and thinking through loads, fit, and function.
          </p>
        </article>
        <article class="card">
          <h3>Prototyping & Iteration</h3>
          <p>
            Early-stage prototypes, test parts, and one-off solutions to validate ideas before full production.
          </p>
        </article>
        <article class="card">
          <h3>3D Printing & CNC</h3>
          <p>
            Functional prints, jigs, organizers, and precision-cut components that support your projects and workflows.
          </p>
        </article>
      </div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="section about">
    <div class="container about-inner">
      <div>
        <h2>About Terra Services</h2>
        <p>
          Terra Services exists for people who need more than an off-the-shelf answer. We combine fabrication skill with an
          engineering mindset to solve problems, build tools, and bring ideas into the physical world.
        </p>
        <p>
          From repairing what you already rely on to prototyping what you wish existed, Terra Services is focused on practical,
          durable, and thoughtful builds.
        </p>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="section contact">
    <div class="container">
      <h2>Start a Project</h2>
      <p class="section-intro">
        Share your idea, sketch, or problem. We’ll follow up to clarify details and outline a path from concept to creation.
      </p>

      <div class="contact-grid">

        <!-- CONTACT FORM (AJAX, NO REDIRECT) -->
        <form
          id="contactForm"
          class="contact-form"
          action="https://formspree.io/f/xojnvjjo"
          method="POST"
        >
          <input type="hidden" name="_subject" value="New Project Request — TERRA SERVICES" />
          <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />
          <input type="hidden" name="_replyto" value="" />

          <label>
            Name
            <input type="text" name="name" autocomplete="name" required />
          </label>

          <label>
            Email
            <input type="email" name="email" autocomplete="email" required />
          </label>

          <label>
            Project Overview
            <textarea
              name="message"
              rows="5"
              placeholder="What do you want to build, fix, or prototype?"
              required
            ></textarea>
          </label>

          <p id="formStatus" class="form-status" aria-live="polite" style="display:none;"></p>

          <button type="submit" class="btn btn-primary">Send Request</button>
        </form>

        <!-- OFFICIAL NAMEPLATE -->
        <div class="contact-info">
          <h3>Direct Contact</h3>

          <p>
            <strong>Alex</strong><br />
            Founder &amp; Fabricator, Terra Services
          </p>

          <p>
            <strong>Email:</strong>
            <a href="mailto:alex@terraservices.org">alex@terraservices.org</a>
          </p>

          <p><strong>Location:</strong> Louisville, Colorado</p>

          <p>
            Engineering-minded fabrication, prototyping, and problem solving for Boulder County and beyond.
          </p>
        </div>

      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <div>
        <strong>TERRA SERVICES</strong>
        <p>From concept to creation.</p>
      </div>
      <div class="footer-note">
        <p>Fabrication ◦ Engineering ◦ Ideas made real</p>
      </div>
    </div>
  </footer>

  <!-- HERO GALLERY CYCLER -->
  <script>
    (function () {
      // Add as many images as you want here.
      // The first 4 seed the 4 windows; then it rotates.
      const heroImages = [
        { src: "images/gallery/weld-01.jpg", alt: "Custom welded bracket" },
        { src: "images/gallery/fixture-01.jpg", alt: "Fabrication fixture" },
        { src: "images/gallery/prototype-01.jpg", alt: "Prototype component" },
        { src: "images/gallery/shop-01.jpg", alt: "Work in progress in the shop" },

        // Add new images below this line:
        // { src: "images/gallery/new-01.jpg", alt: "Describe it" },
      ];

      const slots = [
        document.getElementById("heroImg0"),
        document.getElementById("heroImg1"),
        document.getElementById("heroImg2"),
        document.getElementById("heroImg3"),
      ].filter(Boolean);

      if (slots.length !== 4 || heroImages.length < 4) return;

      const reduceMotion =
        window.matchMedia &&
        window.matchMedia("(prefers-reduced-motion: reduce)").matches;

      let nextIndex = 4 % heroImages.length;
      let slotIndex = 0;

      function preload(src) {
        const img = new Image();
        img.src = src;
      }

      for (let i = 0; i < Math.min(heroImages.length, 8); i++) preload(heroImages[i].src);

      function swapOne() {
        const slot = slots[slotIndex];
        const next = heroImages[nextIndex];

        preload(next.src);

        if (!reduceMotion) slot.classList.add("is-fading");

        const doSwap = () => {
          slot.src = next.src;
          slot.alt = next.alt || "Gallery image";
          if (!reduceMotion) slot.classList.remove("is-fading");
        };

        if (reduceMotion) setTimeout(doSwap, 0);
        else setTimeout(doSwap, 220);

        slotIndex = (slotIndex + 1) % slots.length;
        nextIndex = (nextIndex + 1) % heroImages.length;
      }

      const INTERVAL_MS = 3500;
      setInterval(swapOne, INTERVAL_MS);
    })();
  </script>

  <!-- INLINE FORM SUBMIT SCRIPT -->
  <script>
    (function () {
      const form = document.getElementById("contactForm");
      const statusEl = document.getElementById("formStatus");

      if (!form || !statusEl) return;

      function showStatus(message, ok) {
        statusEl.textContent = message;
        statusEl.style.display = "block";
        statusEl.style.border = ok ? "1px solid #2e7d32" : "1px solid #b00020";
        statusEl.style.background = ok ? "rgba(46,125,50,0.08)" : "rgba(176,0,32,0.08)";
      }

      form.addEventListener("submit", async function (e) {
        e.preventDefault();

        const btn = form.querySelector("button[type='submit']");
        const originalText = btn.textContent;

        btn.disabled = true;
        btn.textContent = "Sending…";

        try {
          const emailField = form.querySelector("input[name='email']");
          const replyToField = form.querySelector("input[name='_replyto']");
          if (emailField && replyToField) replyToField.value = emailField.value || "";

          const res = await fetch(form.action, {
            method: "POST",
            body: new FormData(form),
            headers: { Accept: "application/json" }
          });

          if (res.ok) {
            form.reset();
            showStatus("Sent. I’ll follow up shortly.", true);
          } else {
            let msg = "Something went wrong. Please try again or email alex@terraservices.org directly.";
            try {
              const data = await res.json();
              if (data && data.errors && data.errors.length) {
                msg = data.errors.map(e => e.message).join(" ");
              }
            } catch {}
            showStatus(msg, false);
          }
        } catch {
          showStatus("Network error. Please email alex@terraservices.org directly.", false);
        } finally {
          btn.disabled = false;
          btn.textContent = originalText;
        }
      });
    })();
  </script>
</body>
</html>
